{% extends "base.html" %}
{% load static %}

{% block head %}
  <link rel="stylesheet" href="{% static 'feeding_management/css/feeding_management.css' %}">
{% endblock %}

{% block content %}
<div class="feeding-container">
    
    <h1 class="feeding-title">Feeding Chart for {{ horse.name }}</h1>

    {% if can_edit %}
        <form method="post" class="feeding-form">
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label>Breakfast Feed</label>
                        {{ form.breakfast_feed }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Breakfast Quantity (kg)</label>
                        {{ form.breakfast_quantity }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Lunch Feed</label>
                        {{ form.lunch_feed }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Lunch Quantity (kg)</label>
                        {{ form.lunch_quantity }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Dinner Feed</label>
                        {{ form.dinner_feed }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Dinner Quantity (kg)</label>
                        {{ form.dinner_quantity }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Hay</label>
                        {{ form.hay }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Hay Quantity (kg)</label>
                        {{ form.hay_quantity }}
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label>Supplements</label>
                        {{ form.supplements }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Medicines</label>
                        {{ form.medicines }}
                    </div>
                    <div class="form-group mb-3">
                        <label>Notes</label>
                        {{ form.notes }}
                    </div>
                </div>
            </div>
            <div class="form-buttons mt-4 d-flex gap-3">
                <button type="submit" class="half-button back-button">
                    {% if is_staff %}Save Changes{% else %}Submit for Approval{% endif %}
                </button>
                <a href="{% url 'horses:horse_profile' horse.id %}" class="half-button back-button">Back</a>
            </div>
        </form>
    {% else %}
        <p class="not-authorized">⚠️ You are not authorized to edit this feeding chart</p>
    {% endif %}
</div>


<script src="{% static 'feeding_management/js/feeding_management.js' %}"></script>

{% endblock %}
